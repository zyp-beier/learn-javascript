<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Function</title>
</head>
<body>
<script>
    // 'use strict'
  /*  function factorial(a) {
        if (a <= 1) return 1
        return a * factorial(a-1)
    }

    console.log(factorial(4))*/
    /*let a = {
        name: 1,
        method: _this
    }

    function _this() {
        // 'use strict'
        // return this.name;
        console.log(this);
        let that = this; //嵌套的函数不会从调用它的函数中继承this
        function add() {
            console.log(that.name)
        }

        let b = {
            name: 2,
            b_method:function () {
                return this
            }
        };
        console.log(b.b_method());
        return add()
    }
    a.method()*/

    //arguments并不是真正的数组，它是一个实参对象。
    // 每个实参对象都包含以数字为索引的一组元素以及length属性，但它毕竟不是真正的数组。
    // 它是一个对象，只是碰巧具有以数字为索引的属性
    /*function f(...a) {
        console.log(...a)
        console.log(arguments[0])
        console.log(arguments[1])
        console.log(arguments.length)
        arguments[0] = 5
        console.log(arguments)
    }
    f('1,2,3,4','a',4,{name:1})*/
    /*let factorial = function (x) {
        if(x <= 1) return 1;
        return x * arguments.callee(x-1)
    }

    console.log(factorial(3))*/
    let extend = (function () {
        for(let p in {toString: null}){
            return function extend(o) {
                for(let i=1; i < arguments.length; i++){
                    let source = arguments[i]
                    for(let prop in source){
                        o[prop] = source[prop];
                    }
                }
                return o
            }
        }
            return function patched_extend(o) {
            for(let i = 1; i < arguments.length; i++){
                let source = arguments[i]
                for(let prop in source){
                    o[prop] = source[prop];
                }
                for(let j=0; j< protoprops.length; j++){
                    prop = protoprops[j]
                    if(source.hasOwnProperty(prop)){
                        o[orop] = source[prop]
                    }
                }
            }
                return o
            }
        let protoprops = ['toString','valueOf',
            'constructor','hasOwnProperty',
            'isPrototypeOf','propertyIsEnumerable',
            'toLocaleString']
    }())
</script>
</body>
</html>
